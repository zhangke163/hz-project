L.TileLayer.WMTS=L.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.0.0",layer:"",style:"",tilematrixSet:"",format:"image/png"},initialize:function(t,i){this._url=t;var e=L.extend({},this.defaultWmtsParams);for(var r in i)this.options.__proto__.hasOwnProperty(r)||"matrixIds"==r||(e[r]=i[r]);this.wmtsParams=e,this.matrixIds=i.matrixIds||this.getDefaultMatrix(),L.setOptions(this,i)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,L.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this.matrixIds[t.z].identifier,e=L.Util.template(this._url,{s:this._getSubdomain(t)});return e+L.Util.getParamString(this.wmtsParams,e)+"&tilematrix="+i+"&tilerow="+t.y+"&tilecol="+t.x},setParams:function(t,i){return L.extend(this.wmtsParams,t),i||this.redraw(),this},getDefaultMatrix:function(){for(var t=new Array(22),i=0;i<22;i++)t[i]={identifier:1+i,topLeftCorner:new L.LatLng(90,-180)};return t}}),L.tileLayer.wmts=function(t,i){return new L.TileLayer.WMTS(t,i)},layui.define(function(t){t("wmtsTileLayer",{})});